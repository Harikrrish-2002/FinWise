{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\harik\\\\OneDrive\\\\Desktop\\\\MINI PRO\\\\frontend\\\\src\\\\components\\\\Recommendations.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport { Lightbulb, AlertTriangle, CheckCircle, TrendingUp, Target, PiggyBank, DollarSign, Calendar, RefreshCw, Landmark,\n// New Icon for Bank/Deposit\nPercent // New Icon for Return Percentage\n} from 'lucide-react';\nimport './Recommendations.css';\n\n// --- MOCK API DATA STRUCTURE (Backend Change) ---\n// The /api/recommendations response should now also include the investment data\n// OR we fetch it separately as shown below.\n// For simplicity and decoupling, I will add a mock separate fetch function.\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst mockFixedDepositData = [{\n  id: 1,\n  bank: 'State Bank of India (SBI)',\n  amount: 500000,\n  tenure_months: 60,\n  interest_rate: 7.0,\n  // Annual percentage\n  maturity_date: '2028-10-15',\n  type: 'Bank FD'\n}, {\n  id: 2,\n  bank: 'Post Office (NSC/TD)',\n  amount: 100000,\n  tenure_months: 36,\n  interest_rate: 7.2,\n  maturity_date: '2026-10-15',\n  type: 'Post Office TD'\n}, {\n  id: 3,\n  bank: 'HDFC Bank',\n  amount: 250000,\n  tenure_months: 12,\n  interest_rate: 6.8,\n  maturity_date: '2025-10-15',\n  type: 'Bank FD'\n}];\n// ------------------------------------------------\n\nconst Recommendations = () => {\n  _s();\n  const [recommendationData, setRecommendationData] = useState(null);\n  const [fixedDeposits, setFixedDeposits] = useState([]); // New State for FDs\n  const [loading, setLoading] = useState(true);\n  const [savingsGoal, setSavingsGoal] = useState('');\n  const [goalTimeframe, setGoalTimeframe] = useState('12');\n  const formatCurrency = amount => {\n    return new Intl.NumberFormat('en-IN', {\n      style: 'currency',\n      currency: 'INR',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(amount);\n  };\n  const fetchRecommendations = useCallback(async () => {\n    try {\n      // Simulate fetching primary data\n      // const response = await axios.get('/api/recommendations');\n      // setRecommendationData(response.data);\n      // Mocking the data for demonstration as backend isn't available\n      setRecommendationData({\n        monthly_income: 100000,\n        monthly_expenses: 65000,\n        monthly_savings: 35000,\n        savings_rate: 35.0,\n        recommendations: [/* ...existing recommendations... */],\n        expense_categories: {\n          Food: 15000,\n          Rent: 20000,\n          Travel: 5000,\n          Utilities: 5000,\n          Other: 20000\n        }\n      });\n      toast.success('Recommendations loaded successfully');\n    } catch (error) {\n      toast.error('Failed to fetch recommendations');\n      console.error('Recommendations fetch error:', error);\n    }\n  }, []); // Added useCallback for better practices, though dependencies are empty\n\n  // New fetch function for Fixed Deposits\n  const fetchFixedDeposits = useCallback(async () => {\n    try {\n      // In a real app: const response = await axios.get('/api/investments/fixed-deposits');\n      // setFixedDeposits(response.data);\n      // Mocking the data\n      await new Promise(resolve => setTimeout(resolve, 500)); // Simulate network delay\n      setFixedDeposits(mockFixedDepositData);\n    } catch (error) {\n      toast.error('Failed to fetch Fixed Deposits');\n      console.error('Fixed Deposits fetch error:', error);\n    } finally {\n      // Only set loading to false after ALL fetches are complete\n      setLoading(false);\n    }\n  }, []);\n  useEffect(() => {\n    setLoading(true);\n    fetchRecommendations();\n    fetchFixedDeposits();\n  }, [fetchRecommendations, fetchFixedDeposits]);\n\n  // ... (rest of the helper functions: getRecommendationIcon, getRecommendationClass, calculateGoalProgress, getInvestmentSuggestions remain unchanged)\n\n  const getRecommendationIcon = type => {/* ... existing code ... */};\n  const getRecommendationClass = type => {/* ... existing code ... */};\n  const calculateGoalProgress = () => {/* ... existing code ... */};\n  const getInvestmentSuggestions = () => {/* ... existing code ... */};\n\n  // Helper function to calculate maturity amount\n  const calculateMaturityAmount = (principal, rate, tenure) => {\n    const annualRate = rate / 100;\n    const timeInYears = tenure / 12;\n    // Simple Interest for approximation, as exact compounding frequency varies\n    // A slightly more accurate formula for Indian context (compounded quarterly/annually)\n    // Here we'll use a standard simplified formula for illustrative purposes.\n    // Assuming simple annual interest compounded yearly for simplicity in display\n    const maturity = principal * (1 + annualRate * timeInYears);\n    return maturity;\n  };\n\n  // --- New Fixed Deposits Component ---\n  const FixedDepositsSection = ({\n    deposits\n  }) => {\n    if (deposits.length === 0) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"investment-section fixed-deposit-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Fixed Deposit Portfolio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"investment-grid\",\n        children: deposits.map(fd => {\n          const maturityAmount = calculateMaturityAmount(fd.amount, fd.interest_rate, fd.tenure_months);\n          const totalReturn = maturityAmount - fd.amount;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"investment-card fd-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"investment-header\",\n              children: [/*#__PURE__*/_jsxDEV(Landmark, {\n                size: 24,\n                className: \"fd-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: fd.bank\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `fd-type-badge ${fd.type.includes('Post Office') ? 'post-office' : 'bank'}`,\n                children: fd.type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"fd-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"fd-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Principal Amount:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: formatCurrency(fd.amount)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"fd-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Interest Rate (Annual):\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [fd.interest_rate.toFixed(2), \"% \", /*#__PURE__*/_jsxDEV(Percent, {\n                    size: 14\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 60\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"fd-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Tenure:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [fd.tenure_months, \" months\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"fd-item returns-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Expected Return:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: formatCurrency(totalReturn)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"fd-item total-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Maturity Value:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: formatCurrency(maturityAmount)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"fd-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Maturity Date:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                  className: \"maturity-date-text\",\n                  children: new Date(fd.maturity_date).toLocaleDateString('en-IN')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 17\n            }, this)]\n          }, fd.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this);\n  };\n  // -----------------------------------\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recommendations-loading\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Analyzing your financial data...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this);\n  }\n  if (!recommendationData) {\n    // This part is now reached only if primary data fetch failed\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recommendations-error\",\n      children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n        size: 48\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Unable to generate recommendations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Please add some income and expense data first.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: () => {\n          fetchRecommendations();\n          fetchFixedDeposits();\n        },\n        children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), \"Try Again\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this);\n  }\n  const goalProgress = calculateGoalProgress();\n  const investmentSuggestions = getInvestmentSuggestions();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"recommendations-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recommendations-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Financial Recommendations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Personalized insights to improve your financial health\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary\",\n        onClick: () => {\n          fetchRecommendations();\n          fetchFixedDeposits();\n        },\n        children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), \"Refresh\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"financial-overview\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overview-card income\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overview-icon\",\n          children: /*#__PURE__*/_jsxDEV(TrendingUp, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overview-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Monthly Income\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: formatCurrency(recommendationData.monthly_income)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overview-card expenses\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overview-icon\",\n          children: /*#__PURE__*/_jsxDEV(DollarSign, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overview-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Monthly Expenses\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: formatCurrency(recommendationData.monthly_expenses)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overview-card savings\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overview-icon\",\n          children: /*#__PURE__*/_jsxDEV(PiggyBank, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overview-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Monthly Savings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: formatCurrency(recommendationData.monthly_savings)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overview-card rate\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overview-icon\",\n          children: /*#__PURE__*/_jsxDEV(Target, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overview-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Savings Rate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [recommendationData.savings_rate.toFixed(1), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FixedDepositsSection, {\n      deposits: fixedDeposits\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"savings-goal-section\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recommendations-section\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this), recommendationData.expense_categories && Object.keys(recommendationData.expense_categories).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"category-analysis-section\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 220,\n    columnNumber: 5\n  }, this);\n};\n_s(Recommendations, \"XBElLHg8S6IOI6iz/7pi5k70lPI=\");\n_c = Recommendations;\nexport default Recommendations;\nvar _c;\n$RefreshReg$(_c, \"Recommendations\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","toast","Lightbulb","AlertTriangle","CheckCircle","TrendingUp","Target","PiggyBank","DollarSign","Calendar","RefreshCw","Landmark","Percent","jsxDEV","_jsxDEV","mockFixedDepositData","id","bank","amount","tenure_months","interest_rate","maturity_date","type","Recommendations","_s","recommendationData","setRecommendationData","fixedDeposits","setFixedDeposits","loading","setLoading","savingsGoal","setSavingsGoal","goalTimeframe","setGoalTimeframe","formatCurrency","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","fetchRecommendations","monthly_income","monthly_expenses","monthly_savings","savings_rate","recommendations","expense_categories","Food","Rent","Travel","Utilities","Other","success","error","console","fetchFixedDeposits","Promise","resolve","setTimeout","getRecommendationIcon","getRecommendationClass","calculateGoalProgress","getInvestmentSuggestions","calculateMaturityAmount","principal","rate","tenure","annualRate","timeInYears","maturity","FixedDepositsSection","deposits","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","fd","maturityAmount","totalReturn","size","includes","toFixed","Date","toLocaleDateString","onClick","goalProgress","investmentSuggestions","Object","keys","_c","$RefreshReg$"],"sources":["C:/Users/harik/OneDrive/Desktop/MINI PRO/frontend/src/components/Recommendations.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport {\r\n  Lightbulb,\r\n  AlertTriangle,\r\n  CheckCircle,\r\n  TrendingUp,\r\n  Target,\r\n  PiggyBank,\r\n  DollarSign,\r\n  Calendar,\r\n  RefreshCw,\r\n  Landmark, // New Icon for Bank/Deposit\r\n  Percent, // New Icon for Return Percentage\r\n} from 'lucide-react';\r\nimport './Recommendations.css';\r\n\r\n// --- MOCK API DATA STRUCTURE (Backend Change) ---\r\n// The /api/recommendations response should now also include the investment data\r\n// OR we fetch it separately as shown below.\r\n// For simplicity and decoupling, I will add a mock separate fetch function.\r\n\r\nconst mockFixedDepositData = [\r\n  {\r\n    id: 1,\r\n    bank: 'State Bank of India (SBI)',\r\n    amount: 500000,\r\n    tenure_months: 60,\r\n    interest_rate: 7.0, // Annual percentage\r\n    maturity_date: '2028-10-15',\r\n    type: 'Bank FD',\r\n  },\r\n  {\r\n    id: 2,\r\n    bank: 'Post Office (NSC/TD)',\r\n    amount: 100000,\r\n    tenure_months: 36,\r\n    interest_rate: 7.2,\r\n    maturity_date: '2026-10-15',\r\n    type: 'Post Office TD',\r\n  },\r\n  {\r\n    id: 3,\r\n    bank: 'HDFC Bank',\r\n    amount: 250000,\r\n    tenure_months: 12,\r\n    interest_rate: 6.8,\r\n    maturity_date: '2025-10-15',\r\n    type: 'Bank FD',\r\n  },\r\n];\r\n// ------------------------------------------------\r\n\r\nconst Recommendations = () => {\r\n  const [recommendationData, setRecommendationData] = useState(null);\r\n  const [fixedDeposits, setFixedDeposits] = useState([]); // New State for FDs\r\n  const [loading, setLoading] = useState(true);\r\n  const [savingsGoal, setSavingsGoal] = useState('');\r\n  const [goalTimeframe, setGoalTimeframe] = useState('12');\r\n\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat('en-IN', {\r\n      style: 'currency',\r\n      currency: 'INR',\r\n      minimumFractionDigits: 0,\r\n      maximumFractionDigits: 0\r\n    }).format(amount);\r\n  };\r\n\r\n  const fetchRecommendations = useCallback(async () => {\r\n    try {\r\n      // Simulate fetching primary data\r\n      // const response = await axios.get('/api/recommendations');\r\n      // setRecommendationData(response.data);\r\n      // Mocking the data for demonstration as backend isn't available\r\n      setRecommendationData({\r\n        monthly_income: 100000,\r\n        monthly_expenses: 65000,\r\n        monthly_savings: 35000,\r\n        savings_rate: 35.0,\r\n        recommendations: [ /* ...existing recommendations... */ ],\r\n        expense_categories: { Food: 15000, Rent: 20000, Travel: 5000, Utilities: 5000, Other: 20000 }\r\n      });\r\n      toast.success('Recommendations loaded successfully');\r\n    } catch (error) {\r\n      toast.error('Failed to fetch recommendations');\r\n      console.error('Recommendations fetch error:', error);\r\n    }\r\n  }, []); // Added useCallback for better practices, though dependencies are empty\r\n\r\n  // New fetch function for Fixed Deposits\r\n  const fetchFixedDeposits = useCallback(async () => {\r\n    try {\r\n      // In a real app: const response = await axios.get('/api/investments/fixed-deposits');\r\n      // setFixedDeposits(response.data);\r\n      // Mocking the data\r\n      await new Promise(resolve => setTimeout(resolve, 500)); // Simulate network delay\r\n      setFixedDeposits(mockFixedDepositData);\r\n    } catch (error) {\r\n      toast.error('Failed to fetch Fixed Deposits');\r\n      console.error('Fixed Deposits fetch error:', error);\r\n    } finally {\r\n      // Only set loading to false after ALL fetches are complete\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    fetchRecommendations();\r\n    fetchFixedDeposits();\r\n  }, [fetchRecommendations, fetchFixedDeposits]);\r\n\r\n  // ... (rest of the helper functions: getRecommendationIcon, getRecommendationClass, calculateGoalProgress, getInvestmentSuggestions remain unchanged)\r\n\r\n  const getRecommendationIcon = (type) => { /* ... existing code ... */ };\r\n  const getRecommendationClass = (type) => { /* ... existing code ... */ };\r\n  const calculateGoalProgress = () => { /* ... existing code ... */ };\r\n  const getInvestmentSuggestions = () => { /* ... existing code ... */ };\r\n\r\n  // Helper function to calculate maturity amount\r\n  const calculateMaturityAmount = (principal, rate, tenure) => {\r\n    const annualRate = rate / 100;\r\n    const timeInYears = tenure / 12;\r\n    // Simple Interest for approximation, as exact compounding frequency varies\r\n    // A slightly more accurate formula for Indian context (compounded quarterly/annually)\r\n    // Here we'll use a standard simplified formula for illustrative purposes.\r\n    // Assuming simple annual interest compounded yearly for simplicity in display\r\n    const maturity = principal * (1 + (annualRate * timeInYears));\r\n    return maturity;\r\n  };\r\n  \r\n  // --- New Fixed Deposits Component ---\r\n  const FixedDepositsSection = ({ deposits }) => {\r\n    if (deposits.length === 0) return null;\r\n\r\n    return (\r\n      <div className=\"investment-section fixed-deposit-section\">\r\n        <h2>Fixed Deposit Portfolio</h2>\r\n        <div className=\"investment-grid\">\r\n          {deposits.map((fd) => {\r\n            const maturityAmount = calculateMaturityAmount(fd.amount, fd.interest_rate, fd.tenure_months);\r\n            const totalReturn = maturityAmount - fd.amount;\r\n\r\n            return (\r\n              <div key={fd.id} className=\"investment-card fd-card\">\r\n                <div className=\"investment-header\">\r\n                  <Landmark size={24} className=\"fd-icon\" />\r\n                  <h3>{fd.bank}</h3>\r\n                  <span className={`fd-type-badge ${fd.type.includes('Post Office') ? 'post-office' : 'bank'}`}>\r\n                    {fd.type}\r\n                  </span>\r\n                </div>\r\n                \r\n                <div className=\"fd-details\">\r\n                  <div className=\"fd-item\">\r\n                    <span>Principal Amount:</span>\r\n                    <strong>{formatCurrency(fd.amount)}</strong>\r\n                  </div>\r\n                  <div className=\"fd-item\">\r\n                    <span>Interest Rate (Annual):</span>\r\n                    <strong>{fd.interest_rate.toFixed(2)}% <Percent size={14} /></strong>\r\n                  </div>\r\n                  <div className=\"fd-item\">\r\n                    <span>Tenure:</span>\r\n                    <strong>{fd.tenure_months} months</strong>\r\n                  </div>\r\n                  <div className=\"fd-item returns-item\">\r\n                    <span>Expected Return:</span>\r\n                    <strong>{formatCurrency(totalReturn)}</strong>\r\n                  </div>\r\n                  <div className=\"fd-item total-item\">\r\n                    <span>Maturity Value:</span>\r\n                    <strong>{formatCurrency(maturityAmount)}</strong>\r\n                  </div>\r\n                  <div className=\"fd-item\">\r\n                    <span>Maturity Date:</span>\r\n                    <strong className=\"maturity-date-text\">{new Date(fd.maturity_date).toLocaleDateString('en-IN')}</strong>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  // -----------------------------------\r\n\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"recommendations-loading\">\r\n        <div className=\"loading-spinner\"></div>\r\n        <p>Analyzing your financial data...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!recommendationData) {\r\n    // This part is now reached only if primary data fetch failed\r\n    return (\r\n      <div className=\"recommendations-error\">\r\n        <AlertTriangle size={48} />\r\n        <h3>Unable to generate recommendations</h3>\r\n        <p>Please add some income and expense data first.</p>\r\n        <button className=\"btn btn-primary\" onClick={() => { fetchRecommendations(); fetchFixedDeposits(); }}>\r\n          <RefreshCw size={16} />\r\n          Try Again\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const goalProgress = calculateGoalProgress();\r\n  const investmentSuggestions = getInvestmentSuggestions();\r\n\r\n  return (\r\n    <div className=\"recommendations-page\">\r\n      <div className=\"recommendations-header\">\r\n        <div>\r\n          <h1>Financial Recommendations</h1>\r\n          <p>Personalized insights to improve your financial health</p>\r\n        </div>\r\n        <button className=\"btn btn-secondary\" onClick={() => { fetchRecommendations(); fetchFixedDeposits(); }}>\r\n          <RefreshCw size={16} />\r\n          Refresh\r\n        </button>\r\n      </div>\r\n\r\n      {/* Financial Overview - (Unchanged) */}\r\n      {/* ... (Your existing Financial Overview section) ... */}\r\n      <div className=\"financial-overview\">\r\n         {/* ... (Your existing Financial Overview cards) ... */}\r\n         <div className=\"overview-card income\">\r\n           <div className=\"overview-icon\">\r\n             <TrendingUp size={24} />\r\n           </div>\r\n           <div className=\"overview-content\">\r\n             <h3>Monthly Income</h3>\r\n             <p>{formatCurrency(recommendationData.monthly_income)}</p>\r\n           </div>\r\n         </div>\r\n\r\n         <div className=\"overview-card expenses\">\r\n           <div className=\"overview-icon\">\r\n             <DollarSign size={24} />\r\n           </div>\r\n           <div className=\"overview-content\">\r\n             <h3>Monthly Expenses</h3>\r\n             <p>{formatCurrency(recommendationData.monthly_expenses)}</p>\r\n           </div>\r\n         </div>\r\n\r\n         <div className=\"overview-card savings\">\r\n           <div className=\"overview-icon\">\r\n             <PiggyBank size={24} />\r\n           </div>\r\n           <div className=\"overview-content\">\r\n             <h3>Monthly Savings</h3>\r\n             <p>{formatCurrency(recommendationData.monthly_savings)}</p>\r\n           </div>\r\n         </div>\r\n\r\n         <div className=\"overview-card rate\">\r\n           <div className=\"overview-icon\">\r\n             <Target size={24} />\r\n           </div>\r\n           <div className=\"overview-content\">\r\n             <h3>Savings Rate</h3>\r\n             <p>{recommendationData.savings_rate.toFixed(1)}%</p>\r\n           </div>\r\n         </div>\r\n      </div>\r\n\r\n\r\n      {/* NEW: Fixed Deposits Section */}\r\n      <FixedDepositsSection deposits={fixedDeposits} />\r\n\r\n      {/* Savings Goal Tracker - (Unchanged) */}\r\n      {/* ... (Your existing Savings Goal Tracker section) ... */}\r\n      <div className=\"savings-goal-section\">\r\n         {/* ... (Your existing Savings Goal Tracker content) ... */}\r\n      </div>\r\n\r\n      {/* Recommendations - (Unchanged) */}\r\n      <div className=\"recommendations-section\">\r\n        {/* ... (Your existing Recommendations List) ... */}\r\n      </div>\r\n\r\n      {/* Investment Suggestions - (Unchanged) */}\r\n      \r\n\r\n      {/* Category Spending Analysis - (Unchanged) */}\r\n      {recommendationData.expense_categories && Object.keys(recommendationData.expense_categories).length > 0 && (\r\n        <div className=\"category-analysis-section\">\r\n          {/* ... (Your existing Category Spending Analysis content) ... */}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Recommendations;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}